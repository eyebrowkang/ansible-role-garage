---
garage_version: "v2.0.0"
garage_user: "garage"
garage_group: "garage"
garage_home: "/var/lib/garage"
garage_config_dir: "/etc/garage"

garage_data_dir: "{{ garage_home }}/data"
garage_data_dirs: []
garage_metadata_dir: "{{ garage_home }}/meta"

garage_db_engine: "lmdb"
garage_replication_factor: 1

# RPC
# Generate with: openssl rand -hex 32
garage_rpc_secret: ""
garage_rpc_secret_file: ""
garage_rpc_bind_addr: "[::]:3901"
garage_rpc_public_addr: "{{ ansible_default_ipv4.address | default('127.0.0.1') }}:3901"
garage_bootstrap_peers: []

# S3 API
garage_s3_region: "garage"
garage_s3_api_bind_addr: "[::]:3900"
garage_s3_root_domain: ""

# S3 Web
garage_s3_web_bind_addr: ""
garage_s3_web_root_domain: ""

# Admin
garage_admin_api_bind_addr: "[::]:3903"
garage_admin_healthcheck_host: "127.0.0.1"
garage_healthcheck_enabled: false
garage_admin_token: ""
garage_admin_token_file: ""
garage_metrics_token: ""
garage_metrics_token_file: ""

# Upgrade control
garage_upgrade: false
garage_upgrade_precheck: true
garage_checksum: ""

# Configuration
garage_config_template: "garage.toml.j2"
garage_env_variables:
  GARAGE_LOG_TO_JOURNALD: "1"
